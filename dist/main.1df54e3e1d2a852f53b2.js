(()=>{"use strict";const t="pomodoro",e="shortBreak",n="longBreak",s={[t]:"pomodoro",[e]:"short break",[n]:"long break"},i="font-kumbh",r="font-roboro",a="font-space",o="theme-coral",c="theme-sky",d="theme-purple",l="start",m="pause",u="restart",g="reset",h=document.querySelector("#main"),p=document.querySelector("#main-font"),v=document.querySelector(".color-list"),T=document.querySelector(".font-list"),b=document.querySelector(".logo"),$=(document.querySelector(".mode"),document.querySelector(".clock-time")),f=document.querySelector(".clock-circle"),k=document.querySelector(".clock-mode"),y=document.querySelector(".modal"),S=document.querySelector(".header-escape"),M=document.querySelector(".mode-parent"),A=document.querySelector(".modal-timing"),C=document.querySelector(".setting-gear"),L=document.querySelector(".button-apply"),q=document.querySelector(".overlay"),E=t=>{window.addEventListener("resize",F),L.addEventListener("click",(()=>{B(t)})),A.addEventListener("click",(e=>{I(t,e)})),M.addEventListener("click",(e=>{V(t,e)})),C.addEventListener("click",(()=>{x(t)})),S.addEventListener("click",(()=>{H(t)})),T.addEventListener("click",(e=>{R(t,e)})),v.addEventListener("click",(e=>{D(t,e)})),k.addEventListener("click",(e=>{_(t,e)}))},w=t=>{t.onChange(U),t.onChange(z),t.onChange(W),t.onChange(j),t.onChange(G),t.onChange(K),t.onChange(N),t.onChange(J)},B=t=>{t.applySettings(),t.resetTimer()},I=(t,e)=>{const n=e.target.classList.contains("time-up"),s=e.target.classList.contains("time-down");if(!n&&!s)return;const i=e.target.closest("[data-mode]").getAttribute("data-mode");n?t.incrementModeTime(i):t.decrementModeTime(i)},V=(t,e)=>{e.target.hasAttribute("data-mode")&&(t.setCurrentMode(e.target.getAttribute("data-mode")),t.resetTimer())},x=t=>{t.toggleSettingsModal()},H=t=>{t.toggleSettingsModal()},R=(t,e)=>{e.target.hasAttribute("data-font")&&(p.classList.remove(t.current.font),e.target.hasAttribute("data-font")&&(t.setCurrentFont(e.target.getAttribute("data-font")),p.classList.add(t.current.font)))},D=(t,e)=>{e.target.hasAttribute("data-theme")&&(h.classList.remove(t.current.theme),e.target.hasAttribute("data-theme")&&(t.setCurrentTheme(e.target.getAttribute("data-theme")),h.classList.add(t.current.theme)))},_=(t,e)=>{const n=e.target.getAttribute("data-control");n===l&&t.startTimer(),n===m&&t.stopTimer(),n===u&&t.startTimer(),n===g&&t.resetTimer()},F=()=>{window.innerWidth<=670?(f.setAttribute("r",120),f.setAttribute("cy",130),f.setAttribute("cx",130)):(f.setAttribute("r",180),f.setAttribute("cy",210),f.setAttribute("cx",210));const t=P();f.style.strokeDasharray=t,f.style.strokeDashoffset=t},P=()=>{const t=f.r.baseVal.value;return 2*Math.PI*t};function z(i){M.innerHTML=` \n          <div class='mode'>\n          <p class='mode-pomodoro ${i.current.mode===t?"active":""}' data-mode="${t}">${s[t]}</p>\n          <p class='mode-short ${i.current.mode===e?"active":""}' data-mode="${e}">${s[e]}</p>\n          <p class='mode-long ${i.current.mode===n?"active":""}' data-mode="${n}">${s[n]}</p>\n          </div>\n          `}function U(t){b.textContent=s[t.current.mode]}function W(i){A.innerHTML=`\n             <div class="timing-modes">\n \n \n                <p>${s[t]}</p>\n                <p>${s[e]}</p>\n                <p>${s[n]}</p>\n \n \n             </div>\n \n             <div class="timing-inputs">\n \n                   <div data-mode="${t}">\n                   <input type="number" value="${i.settings.mode[t]/60}" disabled />\n                   \n                   <div class="timing-button">\n                      <img class="time-up" src="img/up.png" alt="" />\n                      <img class="time-down" src="img/down.png" alt="" />\n                   </div>\n                   </div>\n \n                <div data-mode="${e}">\n                   <input type="number" value="${i.settings.mode[e]/60}" disabled />\n                      \n                   <div class="timing-button" >\n                      <img class="time-up" src="img/up.png" alt="" />\n                      <img class="time-down" src="img/down.png" alt="" />\n                   </div> \n                </div>    \n \n                <div data-mode="${n}">\n                   <input type="number" value="${i.settings.mode[n]/60}" disabled />\n                   \n                   <div class="timing-button" >\n                      <img class="time-up" src="img/up.png" alt="" />\n                      <img class="time-down" src="img/down.png" alt="" />\n                   </div> \n                </div>\n \n             </div>\n              `}function j(t){y.classList.toggle("show",t.isSettingModalVisible),q.classList.toggle("show",t.isSettingModalVisible)}function G(t){const e=t.selectedModeTime-t.current.elapsedTime;$.textContent=`${e}:00`;let n=Math.floor(e/60),s=e%60;s=s<10?`0${s}`:s,$.textContent=`${n}:${s}`;const i=P(),r=t.current.elapsedTime/t.selectedModeTime;f.style.strokeDashoffset=i*r}function J(t){k.innerHTML=`\n    ${0===t.current.elapsedTime?`<div class="clock-start" data-control="${l}">START</div>`:""}\n    ${t.current.timerId?`<div class="clock-pause" data-control="${m}">PAUSE</div>`:""}\n    ${0===t.current.elapsedTime||t.current.timerId||t.current.elapsedTime===t.settings.mode[t.current.mode]?"":`<div class="clock-restart" data-control="${u}">RESTART</div>`}\n    ${t.current.elapsedTime===t.settings.mode[t.current.mode]?`<div class="clock-reset" data-control="${g}">RESET</div>`:""}\n    `}function K(t){T.innerHTML=`\n     <span class="font-kumbh-sans ${t.current.font===i?"active-font":""}" data-font="${i}">Aa</span>\n    <span class="font-roboto-slab ${t.current.font===r?"active-font":""}\n    " data-font="${r}">Aa</span>\n    <span class="font-space-mono\n    ${t.current.font===a?"active-font":""}\n    " data-font="${a}">Aa</span>\n    `}function N(t){v.innerHTML=` \n    <div class="color-coral">\n    <img\n       class="color-imagen-first ${t.current.theme===o?"active-theme":""}"\n       data-theme="${o}"\n       src="img/applyColor.png"\n       alt=""\n    />\n </div>\n <div class="color-sky">\n    <img\n       class="color-imagen-second\n       ${t.current.theme===c?"active-theme":""}"\n       data-theme="${c}"\n       src="img/applyColor.png"\n       alt=""\n    />\n </div>\n <div class="color-purple">\n    <img\n       class="color-imagen-third ${t.current.theme===d?"active-theme":""}"\n       data-theme="${d}"\n       src="img/applyColor.png"\n       alt=""\n    />\n </div>\n    `}const O={isSettingModalVisible:!1,settings:{mode:{[t]:1500,[e]:300,[n]:900}},current:{mode:t,font:i,theme:o,elapsedTime:0,timerId:null},get selectedModeTime(){return this.settings.mode[this.current.mode]},settingsBackup:null,_listeners:[],setCurrentMode(t){this.current.mode=t,this.changed()},incrementModeTime(t){this.settings.mode[t]+=60,this.changed()},decrementModeTime(t){this.settings.mode[t]<=1||(this.settings.mode[t]-=60,this.changed())},onChange(t){this._listeners.push(t)},changed(){this._listeners.forEach((t=>t(this)))},toggleSettingsModal(t=!0){this.isSettingModalVisible=!this.isSettingModalVisible,t&&(this.isSettingModalVisible?this.backupSettings():this.applyBackup()),this.changed()},backupSettings(){this.settingsBackup=structuredClone(this.settings)},applyBackup(){this.settingsBackup&&(this.settings=this.settingsBackup,this.clearBackup(),this.changed())},applySettings(){this.clearBackup(),this.toggleSettingsModal(!1)},clearBackup(){this.settingsBackup=null},setCurrentFont(t){this.current.font=t,this.changed()},setCurrentTheme(t){this.current.theme=t,this.changed()},startTimer(){this.updateTimer(),this.current.timerId=setInterval((()=>this.updateTimer()),1e3),this.changed()},updateTimer(){this.current.elapsedTime+=1,this.current.elapsedTime===this.settings.mode[this.current.mode]&&this.stopTimer(),this.changed()},stopTimer(){clearInterval(this.current.timerId),this.current.timerId=null,this.changed()},resetTimer(){this.current.elapsedTime=0,this.stopTimer(),this.changed()}};(t=>{E(t),w(t),F()})(O),O.changed()})();
//# sourceMappingURL=main.1df54e3e1d2a852f53b2.js.map